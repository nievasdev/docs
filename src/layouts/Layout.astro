---
import '../styles/global.css';

export interface Props {
  title: string;
  description?: string;
}

const { title, description = "Technical Documentation" } = Astro.props;
---

<!DOCTYPE html>
<html lang="es" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{title}</title>
  </head>
  <body>
    <slot />
    <script is:inline>
      function playTerminalSound() {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        // First beep (higher pitch)
        const oscillator1 = audioContext.createOscillator();
        const gain1 = audioContext.createGain();
        oscillator1.connect(gain1);
        gain1.connect(audioContext.destination);
        oscillator1.frequency.value = 2000;
        oscillator1.type = 'sine';
        gain1.gain.setValueAtTime(0, audioContext.currentTime);
        gain1.gain.linearRampToValueAtTime(0.18, audioContext.currentTime + 0.003);
        gain1.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.035);
        oscillator1.start(audioContext.currentTime);
        oscillator1.stop(audioContext.currentTime + 0.035);

        // Second beep (lower pitch)
        const oscillator2 = audioContext.createOscillator();
        const gain2 = audioContext.createGain();
        oscillator2.connect(gain2);
        gain2.connect(audioContext.destination);
        oscillator2.frequency.value = 1400;
        oscillator2.type = 'sine';
        gain2.gain.setValueAtTime(0, audioContext.currentTime + 0.012);
        gain2.gain.linearRampToValueAtTime(0.12, audioContext.currentTime + 0.018);
        gain2.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.045);
        oscillator2.start(audioContext.currentTime + 0.012);
        oscillator2.stop(audioContext.currentTime + 0.045);
      }

      window.playTerminalSound = playTerminalSound;
    </script>
  </body>
</html>
